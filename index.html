<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ramesh Fun Hub üéÆ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg-gradient: linear-gradient(135deg, #ff00ff, #00f0ff, #ffea00);
  --accent: #ff6bff;
  --text: #fff;
  --card: rgba(255,255,255,0.1);
  --online: #00ff88;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Arial', sans-serif; background: var(--bg-gradient);
  color: var(--text); overflow-x: hidden; cursor: none; min-height: 100vh;
}
#topbar {
  position: fixed; top: 0; width: 100%; background: rgba(0,0,0,0.9);
  padding: 10px 20px; z-index: 100; display: flex; justify-content: space-between;
  backdrop-filter: blur(20px); border-bottom: 2px solid var(--accent);
}
.nav-section { display: flex; gap: 10px; }
.nav-btn, .login-btn {
  background: var(--accent); color: #000; border: none; padding: 12px 24px;
  border-radius: 25px; cursor: pointer; font-weight: bold; transition: all 0.3s;
  font-size: 14px; position: relative; overflow: hidden;
}
.nav-btn:hover, .login-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--accent); }
#profile { display: flex; align-items: center; gap: 10px; background: var(--card); padding: 8px 15px; border-radius: 20px; }
#online-count { background: var(--online); color: #000; padding: 5px 12px; border-radius: 15px; font-weight: bold; }
section {
  padding: 90px 20px 20px; max-width: 1200px; margin: 0 auto; min-height: 100vh;
}
section:not(.active) { display: none; }
section.active { display: block; }
.game-card {
  background: var(--card); padding: 25px; margin: 20px 0; border-radius: 20px;
  backdrop-filter: blur(15px); box-shadow: 0 15px 40px rgba(0,0,0,0.4);
  text-align: center; border: 1px solid rgba(255,255,255,0.2);
}
.btn-big {
  font-size: 22px; padding: 18px 36px; background: linear-gradient(45deg, var(--accent), #00ff88);
  border: none; border-radius: 50px; color: #000; cursor: pointer; margin: 10px;
  transition: all 0.4s; position: relative; font-weight: bold; min-width: 200px;
}
.btn-big:hover { transform: translateY(-8px) scale(1.08); box-shadow: 0 20px 50px var(--accent); }
.btn-big:active { animation: shake 0.3s; transform: scale(0.98); }
@keyframes shake {
  0%,100%{transform:translateX(0) scale(1.02);} 25%{transform:translateX(-3px) scale(1.02);}
  75%{transform:translateX(3px) scale(1.02);}
}
.leaderboard, .quests {
  background: linear-gradient(135deg, var(--card), rgba(0,255,136,0.1));
  padding: 25px; border-radius: 20px; margin: 20px 0; border: 2px solid var(--accent);
}
.leaderboard h3, .quests h3 { text-align: center; margin-bottom: 20px; text-shadow: 0 0 10px var(--accent); }
.leader-row, .quest-row {
  display: flex; justify-content: space-between; padding: 12px; margin: 8px 0;
  background: rgba(255,255,255,0.05); border-radius: 12px; transition: 0.3s;
}
.leader-row:hover { background: rgba(255,255,255,0.15); transform: translateX(5px); }
.quest-progress { background: rgba(0,255,0,0.3); height: 8px; border-radius: 4px; margin-top: 5px; }
#canvas { border: 4px solid var(--accent); border-radius: 15px; background: #111; display: block; margin: 20px auto; }
#cursor-trail {
  position: fixed; pointer-events: none; z-index: 999; font-size: 24px; transition: all 0.1s;
  filter: drop-shadow(0 0 10px var(--accent));
}
.chaos-mode * { animation: chaos 0.08s infinite alternate; }
@keyframes chaos {
  0% { filter: hue-rotate(0deg) brightness(1) contrast(1); }
  100% { filter: hue-rotate(180deg) brightness(1.3) contrast(1.2); }
}
@media (max-width: 768px) {
  .nav-section { flex-wrap: wrap; } .nav-btn { padding: 10px 16px; font-size: 12px; }
  .btn-big { font-size: 18px; padding: 15px 25px; min-width: 160px; }
}
</style>
</head>
<body>
<div id="topbar">
  <div class="nav-section">
    <button class="nav-btn" onclick="showSection('hub')">üè† Hub</button>
    <button class="nav-btn" onclick="showSection('games')">üéÆ Games</button>
    <button class="nav-btn" onclick="showSection('quests')">üìú Quests</button>
    <button class="nav-btn" onclick="showSection('leaderboard')">üèÜ Leaderboard</button>
    <button class="nav-btn" onclick="showSection('settings')">‚öôÔ∏è Customize</button>
  </div>
  <div id="profile">
    <input id="username" placeholder="Enter name" maxlength="12" style="padding:8px;border-radius:15px;border:none;">
    <button class="login-btn" onclick="login()">Login</button>
    <span id="user-coins">Ramesh Coins: 0 ü™ô</span>
    <span id="online-count">üü¢ 12 online</span>
  </div>
</div>

<section id="hub" class="active">
  <h1 style="text-align:center;font-size:3.5em;margin-bottom:30px;text-shadow:0 0 30px var(--accent);">Ramesh Fun Hub üéâ</h1>
  <div class="game-card">
    <h3>Quick Play</h3>
    <button class="btn-big" onclick="startTapFrenzy()">üñ±Ô∏è Tap Frenzy</button>
    <button class="btn-big" onclick="startQuiz()">üß† Quick Quiz</button>
    <button class="btn-big" onclick="toggleChaos()">üí• Chaos Mode</button>
  </div>
</section>

<section id="games">
  <h2 style="text-align:center;margin-bottom:30px;">Games (Earn Coins!)</h2>
  <div class="game-card">
    <button class="btn-big" onclick="playGame('memory')">üß† Memory Match</button>
    <button class="btn-big" onclick="playGame('racer')">üèéÔ∏è Ramesh Racer</button>
    <button class="btn-big" onclick="playGame('dice')">üé≤ Dice Battle</button>
  </div>
  <canvas id="canvas" width="500" height="350" style="display:none;"></canvas>
  <div id="game-ui"></div>
</section>

<section id="quests">
  <div class="quests">
    <h3>Daily Quests (+Bonus Coins!)</h3>
    <div id="quest-list"></div>
  </div>
</section>

<section id="leaderboard">
  <div class="leaderboard">
    <h3>üåü Global Leaderboard</h3>
    <div id="leaderboard-list"></div>
    <p style="text-align:center;margin-top:20px;color:var(--online);">üìà Rivals improve every 30s!</p>
  </div>
</section>

<section id="settings">
  <div class="game-card">
    <h3>Customize Your Hub</h3>
    <button class="btn-big" onclick="setTheme('neon')">‚ú® Neon</button>
    <button class="btn-big" onclick="setTheme('candy')">üç≠ Candy</button>
    <button class="btn-big" onclick="setTheme('dark')">üåô Dark</button>
    <button class="btn-big" onclick="setTheme('matrix')">üíö Matrix</button>
    <br><input id="cursor-emoji" maxlength="2" placeholder="‚ú® Cursor Emoji" style="padding:12px;font-size:24px;margin:10px;border-radius:15px;border:2px solid var(--accent);background:var(--card);color:var(--text);">
    <button class="btn-big" onclick="setCursorEmoji()">Set Cursor</button>
    <button class="btn-big" onclick="resetProgress()">üîÑ New Player</button>
  </div>
</section>

<div id="cursor-trail"></div>

<script>
let currentUser = localStorage.getItem('currentUser') || '';
let rameshCoins = parseInt(localStorage.getItem(`${currentUser}_coins`) || '50');
let leaderboard = JSON.parse(localStorage.getItem('leaderboard') || 
  JSON.stringify([
    {name:'Arjun',score:285},{name:'Priya',score:267},{name:'Vikram',score:245},
    {name:'Aisha',score:231},{name:'Ramesh',score:198},{name:'Lakshmi',score:187},
    {name:'Raj',score:176},{name:'Meera',score:165},{name:'Kiran',score:154},
    {name:'Sanjay',score:142},{name:'Neha',score:131},{name:'Amit',score:120}
  ]));
let quests = JSON.parse(localStorage.getItem('quests') || JSON.stringify({
  play3games: {progress:0, target:3, reward:50, completed:false},
  win50coins: {progress:0, target:50, reward:75, completed:false},
  useChaos: {progress:0, target:1, reward:25, completed:false},
  customize: {progress:0, target:1, reward:40, completed:false},
  tap10: {progress:0, target:10, reward:30, completed:false}
}));
let onlineCount = 12;
let gameStats = {gamesPlayed:0, coinsWon:0};
const indianNames = ['Arjun','Priya','Vikram','Aisha','Ramesh','Lakshmi','Raj','Meera','Kiran','Sanjay','Neha','Amit','Deepak','Ritu'];

if(currentUser) {
  document.getElementById('username').value = currentUser;
  rameshCoins = parseInt(localStorage.getItem(`${currentUser}_coins`) || '50');
}
updateUI();

function login() {
  const name = document.getElementById('username').value.trim() || 'Ramesh';
  if(name === currentUser) return;
  currentUser = name;
  localStorage.setItem('currentUser', currentUser);
  rameshCoins = parseInt(localStorage.getItem(`${currentUser}_coins`) || '50');
  quests.customize.progress = 1; checkQuest('customize');
  updateUI();
  confettiBurst(); alert(`Welcome back, ${currentUser}! üéâ`);
}

function updateUI() {
  document.getElementById('user-coins').textContent = `Ramesh Coins: ${rameshCoins} ü™ô`;
  if(currentUser) document.getElementById('profile').insertAdjacentHTML('afterbegin', `<span style="font-weight:bold;color:var(--online);">${currentUser}</span>`);
}

function showSection(id) {
  document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if(id === 'quests') renderQuests();
  if(id === 'leaderboard') renderLeaderboard();
}

function addCoins(amount, reason = '') {
  rameshCoins += amount;
  gameStats.coinsWon += amount;
  localStorage.setItem(`${currentUser}_coins`, rameshCoins);
  updateUI();
  checkQuest('win50coins');
  if(amount > 0) confettiBurst();
  updateLeaderboard();
  if(reason) alert(`${reason}! +${amount} Ramesh Coins ü™ô`);
}

function updateLeaderboard() {
  if(!currentUser) return;
  let userEntry = leaderboard.find(p => p.name === currentUser);
  if(!userEntry) {
    leaderboard.push({name: currentUser, score: rameshCoins});
  } else {
    userEntry.score = rameshCoins;
  }
  leaderboard.sort((a,b) => b.score - a.score).slice(0,12);
  localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
}

function renderLeaderboard() {
  document.getElementById('leaderboard-list').innerHTML = leaderboard.map((p, i) => 
    `<div class="leader-row">
      <span>#${i+1} ${p.name}</span>
      <span style="font-weight:bold;color:var(--online);">${p.score} ü™ô</span>
    </div>`).join('');
}

function renderQuests() {
  document.getElementById('quest-list').innerHTML = Object.entries(quests).map(([id, q]) => {
    const progress = Math.min(q.progress/q.target * 100, 100);
    const barWidth = progress + '%';
    return `<div class="quest-row">
      <div>
        <strong>${getQuestName(id)} (${q.progress}/${q.target})</strong>
        <div class="quest-progress" style="width:${barWidth};background:linear-gradient(90deg,${q.completed ? '#00ff88' : '#ffaa00'},#00ff88);"></div>
      </div>
      ${q.completed ? '<span style="color:#00ff88;">‚úì +'+q.reward+'!</span>' : ''}
    </div>`;
  }).join('');
}

const questNames = {
  play3games: 'Play 3 Games',
  win50coins: 'Win 50 Coins', 
  useChaos: 'Toggle Chaos Mode',
  customize: 'Change Theme/Cursor',
  tap10: 'Get 10+ Taps'
};
function getQuestName(id) { return questNames[id] || id; }

function checkQuest(id) {
  if(!quests[id] || quests[id].completed) return;
  quests[id].progress++;
  if(quests[id].progress >= quests[id].target) {
    quests[id].completed = true;
    addCoins(quests[id].reward, `Quest Complete: ${getQuestName(id)}`);
  }
  localStorage.setItem('quests', JSON.stringify(quests));
  if(document.querySelector('#quests').classList.contains('active')) renderQuests();
}

function playGame(type) {
  gameStats.gamesPlayed++;
  checkQuest('play3games');
  showSection('games');
  document.getElementById('game-ui').innerHTML = `<h3>${type.toUpperCase()} - Win +10 Coins!</h3>
    <button class="btn-big" onclick="endGame(${type}, true)">Win! üèÜ</button>
    <button class="btn-big" onclick="endGame(${type}, false)">Lose üòÖ</button>`;
}

function endGame(type, won) {
  const points = won ? 12 : -4;
  addCoins(points, `${type} ${won ? 'Win' : 'Loss'}`);
  document.getElementById('game-ui').innerHTML = `<h3>Game Over! ${won ? '+12' : '-4'} Coins</h3>`;
}

function startTapFrenzy() {
  gameStats.gamesPlayed++; checkQuest('play3games');
  let taps = 0, time = 12;
  showSection('games');
  const btn = document.createElement('button');
  btn.className = 'btn-big'; btn.style.fontSize = '48px';
  btn.innerHTML = 'TAP FAST! üñ±Ô∏èüî•'; btn.id = 'tap-btn';
  document.getElementById('game-ui').innerHTML = '';
  document.getElementById('game-ui').appendChild(btn);
  document.getElementById('game-ui').innerHTML += `<div>Taps: 0 | ${time}s</div>`;
  
  btn.onclick = () => {
    taps++; checkQuest('tap10');
    document.querySelector('#game-ui div').textContent = `Taps: ${taps} | ${time}s`;
    if(taps >= 10) checkQuest('tap10');
  };
  
  let timer = setInterval(() => {
    time--;
    document.querySelector('#game-ui div').textContent = `Taps: ${taps} | ${time}s`;
    if(time <= 0) {
      clearInterval(timer);
      addCoins(Math.floor(taps * 1.5), 'Tap Frenzy');
    }
  }, 1000);
}

function startQuiz() {
  gameStats.gamesPlayed++; checkQuest('play3games');
  const questions = [
    {q: 'üáÆüá≥ Capital of India?', a: 'new delhi'},
    {q: 'üèè National sport?', a: 'hockey'}
  ];
  let idx = 0;
  showSection('games');
  document.getElementById('game-ui').innerHTML = `
    <div>${questions[0].q}</div>
    <input id="quiz-ans" style="padding:15px;font-size:20px;margin:10px;border-radius:15px;border:2px solid var(--accent);background:var(--card);color:var(--text);" placeholder="Answer">
    <button class="btn-big" onclick="checkQuizAns()">Submit</button>
  `;
  window.checkQuizAns = () => {
    if(idx >= questions.length-1) {
      addCoins(15, 'Quiz Master');
      return;
    }
    if(document.getElementById('quiz-ans').value.toLowerCase().includes(questions[idx].a)) {
      addCoins(8);
    }
    idx++;
    document.querySelector('#game-ui div').textContent = questions[idx].q;
    document.getElementById('quiz-ans').value = '';
  };
}

function setTheme(theme) {
  const themes = {
    neon: 'linear-gradient(135deg,#ff00ff,#00f0ff,#ffea00)', candy: 'linear-gradient(135deg,#ff69b4,#00ff7f,#ffff00)',
    dark: 'linear-gradient(135deg,#0a0a0a,#1a1a2e,#16213e)', matrix: 'linear-gradient(135deg,#00ff41,#008000)'
  };
  const accents = {neon:'#ff6bff', candy:'#ff1493', dark:'#00ff88', matrix:'#00ff41'};
  document.documentElement.style.setProperty('--bg-gradient', themes[theme]);
  document.documentElement.style.setProperty('--accent', accents[theme]);
  checkQuest('customize');
  localStorage.setItem('theme', theme);
}

function setCursorEmoji() {
  const emoji = document.getElementById('cursor-emoji').value || '‚ú®';
  localStorage.setItem('cursorEmoji', emoji);
  checkQuest('customize');
}

function toggleChaos() {
  document.body.classList.toggle('chaos-mode');
  checkQuest('useChaos');
}

function confettiBurst() {
  for(let i = 0; i < 60; i++) {
    let conf = document.createElement('div');
    conf.style.cssText = `position:fixed;top:0;left:${Math.random()*100}vw;width:12px;height:12px;
      background:hsl(${Math.random()*360},100%,50%);pointer-events:none;z-index:1001;
      border-radius:50%;animation:fall 3s linear forwards;`;
    conf.animate([
      {transform: 'translateY(-100vh) rotate(0deg)', opacity: 1},
      {transform: 'translateY(100vh) rotate(720deg)', opacity: 0}
    ], {duration: 3000});
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 3000);
  }
}

function resetProgress() {
  if(confirm('Reset all progress?')) {
    localStorage.clear();
    location.reload();
  }
}

// Mouse trail
let trail = document.getElementById('cursor-trail');
document.addEventListener('mousemove', e => {
  trail.textContent = localStorage.getItem('cursorEmoji') || '‚ú®';
  trail.style.left = (e.pageX - 12) + 'px';
  trail.style.top = (e.pageY - 12) + 'px';
});

// Fake online users + rival improvement
setInterval(() => {
  onlineCount = 8 + Math.floor(Math.random() * 18);
  document.getElementById('online-count').textContent = `üü¢ ${onlineCount} online`;
  
  // Rivals improve slowly
  leaderboard.slice(0,8).forEach((player, i) => {
    if(player.name !== currentUser && Math.random() < 0.15) {
      player.score += 1 + Math.floor(Math.random() * 4);
    }
  });
  localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
}, 30000);

// Init
setTheme(localStorage.getItem('theme') || 'neon');
setCursorEmoji();
if(currentUser) renderLeaderboard(); renderQuests();
setInterval(renderQuests, 5000); // Auto-refresh quests
</script>
</body>
</html>
