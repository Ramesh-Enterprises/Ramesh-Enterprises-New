<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ramesh Fun Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
:root{
  --accent:#ff9800;
  --bg:#0b0b0f;
  --card:#161622;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,Segoe UI,Arial;
  background:linear-gradient(135deg,#0a0a0f,#151522);
  color:#fff;
}
header{
  padding:16px;
  background:#000a;
  text-align:center;
  position:sticky;
  top:0;
  z-index:10;
}
.section{display:none;padding:20px}
.card{
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(12px);
  border-radius:18px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 20px 40px #0007;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:14px;
}
button{
  background:var(--accent);
  border:none;
  padding:14px;
  border-radius:14px;
  font-size:15px;
  cursor:pointer;
}
button.secondary{
  background:#2b2b40;
  color:#fff;
}
button:hover{opacity:.9}
input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  margin-bottom:12px;
  font-size:15px;
}
.leader{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid #333;
}
.correct{color:#4caf50}
.wrong{color:#f44336}
</style>
</head>

<body>

<header>
<h1>ğŸ”¥ Ramesh Fun Hub</h1>
<div id="top"></div>
</header>

<!-- LOGIN -->
<div id="login" class="section">
<div class="card">
<h2>Login</h2>
<input id="lu" placeholder="Username">
<button onclick="login()">Enter</button>
</div>
</div>

<!-- HOME -->
<div id="home" class="section">
<div class="grid">
<button onclick="show('games')">ğŸ® Games</button>
<button onclick="show('quiz')">ğŸ§  Quiz</button>
<button onclick="show('leaderboard')">ğŸ† Leaderboard</button>
<button id="adminBtn" onclick="show('admin')" style="display:none">ğŸ‘‘ Admin</button>
</div>
</div>

<!-- GAMES -->
<div id="games" class="section">
<div class="card">
<h2>ğŸ® Games</h2>
<button onclick="addCoins(5)">Clicker (+5)</button>
<button onclick="guess()">Guess Number</button>
<button onclick="reaction()">Reaction</button>
<button class="secondary" onclick="show('home')">â¬… Back</button>
</div>
</div>

<!-- QUIZ -->
<div id="quiz" class="section">
<div class="card">
<h2>ğŸ§  Ramesh Quiz</h2>
<p id="q"></p>
<div id="opts"></div>
<p id="qr"></p>
<button class="secondary" onclick="show('home')">â¬… Back</button>
</div>
</div>

<!-- LEADERBOARD -->
<div id="leaderboard" class="section">
<div class="card">
<h2>ğŸ† Global Leaderboard</h2>
<div id="board"></div>
<button class="secondary" onclick="show('home')">â¬… Back</button>
</div>
</div>

<!-- ADMIN -->
<div id="admin" class="section">
<div class="card">
<h2>ğŸ‘‘ Admin Panel</h2>
<button onclick="addCoins(500)">+500 Coins</button>
<button onclick="wipe()">Reset Leaderboard</button>
<button class="secondary" onclick="show('home')">â¬… Back</button>
</div>
</div>

<script>
/* ğŸ”¥ FIREBASE INIT */
firebase.initializeApp({
  apiKey: "AIzaSyDp_tfDDL5weoyBcs3_OknW0wNLM8PVQrQ",
  authDomain: "ramesh-fun-hub.firebaseapp.com",
  databaseURL: "https://ramesh-fun-hub-default-rtdb.firebaseio.com",
  projectId: "ramesh-fun-hub"
});
const db = firebase.database();

/* STATE */
let user = localStorage.user || null;
let coins = Number(localStorage.coins) || 0;

/* NAV */
function show(id){
document.querySelectorAll('.section').forEach(s=>s.style.display='none');
document.getElementById(id).style.display='block';
}

/* LOGIN */
function login(){
let u=lu.value.trim();
if(!u)return;
localStorage.user=u;
user=u;
if(user==="admin") adminBtn.style.display="block";
sync();
show('home');
}

/* COINS */
function addCoins(n){
coins+=n;
save();
}

/* SAVE + SYNC */
function save(){
localStorage.coins=coins;
document.getElementById("top").innerText=`ğŸ‘¤ ${user} | ğŸª™ ${coins}`;
db.ref("scores/"+user).set(coins);
}

/* GAMES */
function guess(){
let n=Math.ceil(Math.random()*5);
let g=prompt("Guess 1-5");
if(Number(g)===n) addCoins(20);
}
function reaction(){
let t=Date.now();
alert("Click OK fast");
alert("Time: "+(Date.now()-t)+"ms");
addCoins(10);
}

/* QUIZ */
const quiz=[
{q:"Ramesh never starts day without?",o:["Phone","Tea","Gym"],a:0},
{q:"Ramesh favourite line?",o:["Kal dekhenge","Yes sir","No"],a:0}
];
let qi=0;
function loadQuiz(){
q.innerText=quiz[qi].q;
opts.innerHTML="";
quiz[qi].o.forEach((o,i)=>{
let b=document.createElement("button");
b.innerText=o;
b.onclick=()=>{ 
if(i===quiz[qi].a){qr.innerHTML="<span class='correct'>Correct +30</span>";addCoins(30);}
else qr.innerHTML="<span class='wrong'>Wrong</span>";
qi=(qi+1)%quiz.length;
};
opts.appendChild(b);
});
}
loadQuiz();

/* LEADERBOARD */
db.ref("scores").on("value",snap=>{
let data=snap.val()||{};
let arr=Object.entries(data).map(([u,s])=>({u,s}));
arr.sort((a,b)=>b.s-a.s);
board.innerHTML="";
arr.slice(0,10).forEach(p=>{
board.innerHTML+=`<div class="leader"><span>${p.u}</span><span>${p.s}</span></div>`;
});
});

/* ADMIN */
function wipe(){
db.ref("scores").remove();
}

/* INIT */
if(user){
if(user==="admin") adminBtn.style.display="block";
sync();
show('home');
}else show('login');

function sync(){
document.getElementById("top").innerText=`ğŸ‘¤ ${user} | ğŸª™ ${coins}`;
db.ref("scores/"+user).set(coins);
}
</script>

</body>
</html>
